{"id":"gj/i","dependencies":[{"name":"C:\\python\\demo\\package.json","includedInParent":true,"mtime":1605399573948},{"name":"@babel/runtime/helpers/defineProperty","parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\node_modules\\@babel\\runtime\\helpers\\defineProperty.js"},{"name":"@babel/runtime/helpers/toConsumableArray","parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\node_modules\\@babel\\runtime\\helpers\\toConsumableArray.js"},{"name":"@babel/runtime/regenerator","parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\node_modules\\@babel\\runtime\\regenerator\\index.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\node_modules\\@babel\\runtime\\helpers\\asyncToGenerator.js"},{"name":"@babel/runtime/helpers/classCallCheck","parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\node_modules\\@babel\\runtime\\helpers\\classCallCheck.js"},{"name":"@babel/runtime/helpers/createClass","parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\node_modules\\@babel\\runtime\\helpers\\createClass.js"},{"name":"@tensorflow/tfjs","loc":{"line":18,"column":20},"parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\node_modules\\@tensorflow\\tfjs\\dist\\tf.esm.js"},{"name":"./imagenet_classes","loc":{"line":20,"column":31},"parent":"C:\\python\\demo\\mobilenet\\mobilenet.js","resolved":"C:\\python\\demo\\mobilenet\\imagenet_classes.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MobileNet=void 0;var e=i(require(\"@babel/runtime/helpers/defineProperty\")),t=i(require(\"@babel/runtime/helpers/toConsumableArray\")),r=i(require(\"@babel/runtime/regenerator\")),a=i(require(\"@babel/runtime/helpers/asyncToGenerator\")),n=i(require(\"@babel/runtime/helpers/classCallCheck\")),u=i(require(\"@babel/runtime/helpers/createClass\")),o=s(require(\"@tensorflow/tfjs\")),l=require(\"./imagenet_classes\");function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var c=\"https://storage.googleapis.com/tfjs-models/savedmodel/\",d=\"mobilenet_v2_1.0_224/model.json\",p=\"images\",f=\"module_apply_default/MobilenetV2/Logits/output\",b=o.scalar(127.5),v=function(){function s(){(0,n.default)(this,s)}return(0,u.default)(s,[{key:\"load\",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadGraphModel(c+d);case 2:this.model=e.sent;case 3:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"dispose\",value:function(){this.model&&this.model.dispose()}},{key:\"predict\",value:function(r){var a=o.div(o.sub(r.asType(\"float32\"),b),b),n=a.reshape([1].concat((0,t.default)(a.shape)));return this.model.execute((0,e.default)({},p,n),f)}},{key:\"getTopKClasses\",value:function(e,t){var r=o.tidy(function(){return o.softmax(e)}),a=r.dataSync();r.dispose();for(var n=[],u=0;u<a.length;u++)n.push({value:a[u],index:u});return(n=n.sort(function(e,t){return t.value-e.value}).slice(0,t)).map(function(e){return{label:l.IMAGENET_CLASSES[e.index],value:e.value}})}}]),s}();exports.MobileNet=v;","map":{"mappings":[{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":0}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":13}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":20}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":35}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":43}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":56}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":57}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":64}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":68}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":76}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":91}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":93}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":97}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":99}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":101}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":109}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":151}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":153}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":155}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":163}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":208}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":210}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":212}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":220}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":251}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":253}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":255}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":263}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":307}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":309}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":311}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":319}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":361}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":363}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":365}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":373}},{"source":"mobilenet.js","original":{"line":18,"column":0},"generated":{"line":1,"column":412}},{"source":"mobilenet.js","original":{"line":18,"column":0},"generated":{"line":1,"column":414}},{"source":"mobilenet.js","original":{"line":18,"column":0},"generated":{"line":1,"column":416}},{"source":"mobilenet.js","original":{"line":18,"column":0},"generated":{"line":1,"column":424}},{"source":"mobilenet.js","original":{"line":20,"column":0},"generated":{"line":1,"column":445}},{"source":"mobilenet.js","original":{"line":20,"column":0},"generated":{"line":1,"column":447}},{"source":"mobilenet.js","original":{"line":20,"column":0},"generated":{"line":1,"column":455}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":477}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":486}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":488}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":491}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":494}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":497}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":499}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":510}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":517}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":519}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":523}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":525}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":528}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":531}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":537}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":539}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":543}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":547}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":552}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":554}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":557}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":564}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":574}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":589}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":594}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":596}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":599}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":600}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":604}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":606}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":613}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":629}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":636}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":661}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":668}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":693}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":695}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":698}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":701}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":703}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":708}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":710}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":714}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":721}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":736}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":738}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":740}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":743}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":745}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":748}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":750}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":753}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":760}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":762}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":770}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":772}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":774}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":783}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":785}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":788}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":795}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":798}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":800}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":811}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":813}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":814}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":822}},{"source":"mobilenet.js","original":{"line":22,"column":0},"generated":{"line":1,"column":825}},{"source":"mobilenet.js","name":"GOOGLE_CLOUD_STORAGE_DIR","original":{"line":22,"column":6},"generated":{"line":1,"column":829}},{"source":"mobilenet.js","original":{"line":23,"column":4},"generated":{"line":1,"column":831}},{"source":"mobilenet.js","name":"MODEL_FILE_URL","original":{"line":24,"column":6},"generated":{"line":1,"column":888}},{"source":"mobilenet.js","original":{"line":24,"column":23},"generated":{"line":1,"column":890}},{"source":"mobilenet.js","name":"INPUT_NODE_NAME","original":{"line":25,"column":6},"generated":{"line":1,"column":924}},{"source":"mobilenet.js","original":{"line":25,"column":24},"generated":{"line":1,"column":926}},{"source":"mobilenet.js","name":"OUTPUT_NODE_NAME","original":{"line":26,"column":6},"generated":{"line":1,"column":935}},{"source":"mobilenet.js","original":{"line":26,"column":25},"generated":{"line":1,"column":937}},{"source":"mobilenet.js","name":"PREPROCESS_DIVISOR","original":{"line":27,"column":6},"generated":{"line":1,"column":986}},{"source":"mobilenet.js","name":"tf","original":{"line":27,"column":27},"generated":{"line":1,"column":988}},{"source":"mobilenet.js","name":"scalar","original":{"line":27,"column":30},"generated":{"line":1,"column":990}},{"source":"mobilenet.js","original":{"line":27,"column":37},"generated":{"line":1,"column":997}},{"source":"mobilenet.js","name":"MobileNet","original":{"line":29,"column":13},"generated":{"line":1,"column":1004}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1006}},{"source":"mobilenet.js","original":{"line":30,"column":16},"generated":{"line":1,"column":1017}},{"source":"mobilenet.js","original":{"line":30,"column":16},"generated":{"line":1,"column":1026}},{"source":"mobilenet.js","original":{"line":30,"column":16},"generated":{"line":1,"column":1031}},{"source":"mobilenet.js","original":{"line":30,"column":16},"generated":{"line":1,"column":1033}},{"source":"mobilenet.js","original":{"line":30,"column":16},"generated":{"line":1,"column":1035}},{"source":"mobilenet.js","original":{"line":30,"column":16},"generated":{"line":1,"column":1044}},{"source":"mobilenet.js","original":{"line":30,"column":16},"generated":{"line":1,"column":1049}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1052}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1059}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1061}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1063}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1072}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1074}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1075}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1076}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1080}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1087}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1093}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1104}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1108}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1111}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1113}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1115}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1124}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1126}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1134}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1139}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1148}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1152}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1159}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1161}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1169}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1174}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1183}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1186}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1193}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1200}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1202}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1207}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1209}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1215}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1220}},{"source":"mobilenet.js","name":"tf","original":{"line":33,"column":23},"generated":{"line":1,"column":1222}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1229}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1231}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1236}},{"source":"mobilenet.js","name":"tf","original":{"line":33,"column":23},"generated":{"line":1,"column":1238}},{"source":"mobilenet.js","name":"loadGraphModel","original":{"line":33,"column":26},"generated":{"line":1,"column":1240}},{"source":"mobilenet.js","name":"GOOGLE_CLOUD_STORAGE_DIR","original":{"line":34,"column":8},"generated":{"line":1,"column":1255}},{"source":"mobilenet.js","name":"MODEL_FILE_URL","original":{"line":34,"column":35},"generated":{"line":1,"column":1257}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1260}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1265}},{"source":"mobilenet.js","name":"model","original":{"line":33,"column":9},"generated":{"line":1,"column":1267}},{"source":"mobilenet.js","name":"model","original":{"line":33,"column":9},"generated":{"line":1,"column":1272}},{"source":"mobilenet.js","name":"model","original":{"line":33,"column":9},"generated":{"line":1,"column":1278}},{"source":"mobilenet.js","name":"model","original":{"line":33,"column":9},"generated":{"line":1,"column":1280}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1285}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1290}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1292}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1296}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1302}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1309}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1311}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1320}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1322}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1331}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1338}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1349}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1356}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1358}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1364}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1369}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1381}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1385}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1386}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1390}},{"source":"mobilenet.js","original":{"line":37,"column":12},"generated":{"line":1,"column":1400}},{"source":"mobilenet.js","original":{"line":37,"column":12},"generated":{"line":1,"column":1406}},{"source":"mobilenet.js","original":{"line":38,"column":8},"generated":{"line":1,"column":1417}},{"source":"mobilenet.js","name":"model","original":{"line":38,"column":13},"generated":{"line":1,"column":1422}},{"source":"mobilenet.js","name":"model","original":{"line":39,"column":11},"generated":{"line":1,"column":1429}},{"source":"mobilenet.js","name":"model","original":{"line":39,"column":11},"generated":{"line":1,"column":1434}},{"source":"mobilenet.js","name":"dispose","original":{"line":39,"column":17},"generated":{"line":1,"column":1440}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1452}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1453}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1457}},{"source":"mobilenet.js","name":"input","original":{"line":50,"column":10},"generated":{"line":1,"column":1467}},{"source":"mobilenet.js","name":"input","original":{"line":50,"column":10},"generated":{"line":1,"column":1473}},{"source":"mobilenet.js","name":"input","original":{"line":50,"column":10},"generated":{"line":1,"column":1482}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":51,"column":10},"generated":{"line":1,"column":1485}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":51,"column":10},"generated":{"line":1,"column":1489}},{"source":"mobilenet.js","name":"tf","original":{"line":51,"column":30},"generated":{"line":1,"column":1491}},{"source":"mobilenet.js","name":"div","original":{"line":51,"column":33},"generated":{"line":1,"column":1493}},{"source":"mobilenet.js","name":"tf","original":{"line":52,"column":8},"generated":{"line":1,"column":1497}},{"source":"mobilenet.js","name":"sub","original":{"line":52,"column":11},"generated":{"line":1,"column":1499}},{"source":"mobilenet.js","name":"input","original":{"line":52,"column":15},"generated":{"line":1,"column":1503}},{"source":"mobilenet.js","name":"asType","original":{"line":52,"column":21},"generated":{"line":1,"column":1505}},{"source":"mobilenet.js","original":{"line":52,"column":28},"generated":{"line":1,"column":1512}},{"source":"mobilenet.js","name":"PREPROCESS_DIVISOR","original":{"line":52,"column":40},"generated":{"line":1,"column":1523}},{"source":"mobilenet.js","name":"PREPROCESS_DIVISOR","original":{"line":53,"column":8},"generated":{"line":1,"column":1526}},{"source":"mobilenet.js","name":"reshapedInput","original":{"line":54,"column":10},"generated":{"line":1,"column":1529}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":55,"column":8},"generated":{"line":1,"column":1531}},{"source":"mobilenet.js","name":"reshape","original":{"line":55,"column":26},"generated":{"line":1,"column":1533}},{"source":"mobilenet.js","original":{"line":55,"column":35},"generated":{"line":1,"column":1541}},{"source":"mobilenet.js","original":{"line":55,"column":35},"generated":{"line":1,"column":1542}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":55,"column":41},"generated":{"line":1,"column":1545}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":55,"column":41},"generated":{"line":1,"column":1553}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":55,"column":41},"generated":{"line":1,"column":1555}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":55,"column":41},"generated":{"line":1,"column":1557}},{"source":"mobilenet.js","name":"preprocessedInput","original":{"line":55,"column":41},"generated":{"line":1,"column":1566}},{"source":"mobilenet.js","name":"shape","original":{"line":55,"column":59},"generated":{"line":1,"column":1568}},{"source":"mobilenet.js","original":{"line":56,"column":11},"generated":{"line":1,"column":1577}},{"source":"mobilenet.js","original":{"line":56,"column":11},"generated":{"line":1,"column":1584}},{"source":"mobilenet.js","name":"model","original":{"line":56,"column":16},"generated":{"line":1,"column":1589}},{"source":"mobilenet.js","name":"execute","original":{"line":56,"column":22},"generated":{"line":1,"column":1595}},{"source":"mobilenet.js","name":"INPUT_NODE_NAME","original":{"line":57,"column":10},"generated":{"line":1,"column":1604}},{"source":"mobilenet.js","name":"INPUT_NODE_NAME","original":{"line":57,"column":10},"generated":{"line":1,"column":1606}},{"source":"mobilenet.js","name":"INPUT_NODE_NAME","original":{"line":57,"column":10},"generated":{"line":1,"column":1608}},{"source":"mobilenet.js","name":"INPUT_NODE_NAME","original":{"line":57,"column":10},"generated":{"line":1,"column":1617}},{"source":"mobilenet.js","name":"INPUT_NODE_NAME","original":{"line":57,"column":10},"generated":{"line":1,"column":1620}},{"source":"mobilenet.js","name":"reshapedInput","original":{"line":57,"column":28},"generated":{"line":1,"column":1622}},{"source":"mobilenet.js","name":"OUTPUT_NODE_NAME","original":{"line":57,"column":44},"generated":{"line":1,"column":1625}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1630}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1631}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1635}},{"source":"mobilenet.js","name":"logits","original":{"line":60,"column":17},"generated":{"line":1,"column":1652}},{"source":"mobilenet.js","name":"logits","original":{"line":60,"column":17},"generated":{"line":1,"column":1658}},{"source":"mobilenet.js","name":"logits","original":{"line":60,"column":17},"generated":{"line":1,"column":1667}},{"source":"mobilenet.js","name":"topK","original":{"line":60,"column":25},"generated":{"line":1,"column":1669}},{"source":"mobilenet.js","name":"predictions","original":{"line":61,"column":10},"generated":{"line":1,"column":1672}},{"source":"mobilenet.js","name":"predictions","original":{"line":61,"column":10},"generated":{"line":1,"column":1676}},{"source":"mobilenet.js","name":"tf","original":{"line":61,"column":24},"generated":{"line":1,"column":1678}},{"source":"mobilenet.js","name":"tidy","original":{"line":61,"column":27},"generated":{"line":1,"column":1680}},{"source":"mobilenet.js","original":{"line":61,"column":32},"generated":{"line":1,"column":1685}},{"source":"mobilenet.js","name":"tf","original":{"line":62,"column":13},"generated":{"line":1,"column":1696}},{"source":"mobilenet.js","name":"tf","original":{"line":62,"column":13},"generated":{"line":1,"column":1703}},{"source":"mobilenet.js","name":"softmax","original":{"line":62,"column":16},"generated":{"line":1,"column":1705}},{"source":"mobilenet.js","name":"logits","original":{"line":62,"column":24},"generated":{"line":1,"column":1713}},{"source":"mobilenet.js","name":"values","original":{"line":65,"column":10},"generated":{"line":1,"column":1718}},{"source":"mobilenet.js","name":"predictions","original":{"line":65,"column":19},"generated":{"line":1,"column":1720}},{"source":"mobilenet.js","name":"dataSync","original":{"line":65,"column":31},"generated":{"line":1,"column":1722}},{"source":"mobilenet.js","name":"predictions","original":{"line":66,"column":4},"generated":{"line":1,"column":1733}},{"source":"mobilenet.js","name":"dispose","original":{"line":66,"column":16},"generated":{"line":1,"column":1735}},{"source":"mobilenet.js","original":{"line":69,"column":9},"generated":{"line":1,"column":1745}},{"source":"mobilenet.js","name":"predictionList","original":{"line":68,"column":8},"generated":{"line":1,"column":1749}},{"source":"mobilenet.js","name":"predictionList","original":{"line":68,"column":8},"generated":{"line":1,"column":1753}},{"source":"mobilenet.js","original":{"line":68,"column":25},"generated":{"line":1,"column":1755}},{"source":"mobilenet.js","name":"i","original":{"line":69,"column":13},"generated":{"line":1,"column":1758}},{"source":"mobilenet.js","original":{"line":69,"column":17},"generated":{"line":1,"column":1760}},{"source":"mobilenet.js","name":"i","original":{"line":69,"column":20},"generated":{"line":1,"column":1762}},{"source":"mobilenet.js","name":"values","original":{"line":69,"column":24},"generated":{"line":1,"column":1764}},{"source":"mobilenet.js","name":"length","original":{"line":69,"column":31},"generated":{"line":1,"column":1766}},{"source":"mobilenet.js","name":"i","original":{"line":69,"column":39},"generated":{"line":1,"column":1773}},{"source":"mobilenet.js","name":"predictionList","original":{"line":70,"column":6},"generated":{"line":1,"column":1777}},{"source":"mobilenet.js","name":"push","original":{"line":70,"column":21},"generated":{"line":1,"column":1779}},{"source":"mobilenet.js","original":{"line":70,"column":26},"generated":{"line":1,"column":1784}},{"source":"mobilenet.js","name":"value","original":{"line":70,"column":27},"generated":{"line":1,"column":1785}},{"source":"mobilenet.js","name":"values","original":{"line":70,"column":34},"generated":{"line":1,"column":1791}},{"source":"mobilenet.js","name":"i","original":{"line":70,"column":41},"generated":{"line":1,"column":1793}},{"source":"mobilenet.js","name":"index","original":{"line":70,"column":45},"generated":{"line":1,"column":1796}},{"source":"mobilenet.js","name":"i","original":{"line":70,"column":52},"generated":{"line":1,"column":1802}},{"source":"mobilenet.js","name":"predictionList","original":{"line":78,"column":11},"generated":{"line":1,"column":1806}},{"source":"mobilenet.js","name":"predictionList","original":{"line":72,"column":4},"generated":{"line":1,"column":1813}},{"source":"mobilenet.js","name":"predictionList","original":{"line":72,"column":21},"generated":{"line":1,"column":1815}},{"source":"mobilenet.js","name":"sort","original":{"line":73,"column":26},"generated":{"line":1,"column":1817}},{"source":"mobilenet.js","original":{"line":73,"column":31},"generated":{"line":1,"column":1822}},{"source":"mobilenet.js","name":"a","original":{"line":73,"column":32},"generated":{"line":1,"column":1831}},{"source":"mobilenet.js","name":"b","original":{"line":73,"column":35},"generated":{"line":1,"column":1833}},{"source":"mobilenet.js","name":"b","original":{"line":74,"column":34},"generated":{"line":1,"column":1836}},{"source":"mobilenet.js","name":"b","original":{"line":74,"column":34},"generated":{"line":1,"column":1843}},{"source":"mobilenet.js","name":"value","original":{"line":74,"column":36},"generated":{"line":1,"column":1845}},{"source":"mobilenet.js","name":"a","original":{"line":74,"column":44},"generated":{"line":1,"column":1851}},{"source":"mobilenet.js","name":"value","original":{"line":74,"column":46},"generated":{"line":1,"column":1853}},{"source":"mobilenet.js","name":"slice","original":{"line":76,"column":26},"generated":{"line":1,"column":1861}},{"source":"mobilenet.js","original":{"line":76,"column":32},"generated":{"line":1,"column":1867}},{"source":"mobilenet.js","name":"topK","original":{"line":76,"column":35},"generated":{"line":1,"column":1869}},{"source":"mobilenet.js","name":"map","original":{"line":78,"column":26},"generated":{"line":1,"column":1873}},{"source":"mobilenet.js","original":{"line":78,"column":30},"generated":{"line":1,"column":1877}},{"source":"mobilenet.js","name":"x","original":{"line":78,"column":30},"generated":{"line":1,"column":1886}},{"source":"mobilenet.js","original":{"line":79,"column":13},"generated":{"line":1,"column":1889}},{"source":"mobilenet.js","original":{"line":79,"column":13},"generated":{"line":1,"column":1895}},{"source":"mobilenet.js","name":"label","original":{"line":79,"column":14},"generated":{"line":1,"column":1896}},{"source":"mobilenet.js","name":"IMAGENET_CLASSES","original":{"line":79,"column":21},"generated":{"line":1,"column":1902}},{"source":"mobilenet.js","name":"x","original":{"line":79,"column":38},"generated":{"line":1,"column":1904}},{"source":"mobilenet.js","name":"x","original":{"line":79,"column":38},"generated":{"line":1,"column":1921}},{"source":"mobilenet.js","name":"index","original":{"line":79,"column":40},"generated":{"line":1,"column":1923}},{"source":"mobilenet.js","name":"value","original":{"line":79,"column":48},"generated":{"line":1,"column":1930}},{"source":"mobilenet.js","name":"x","original":{"line":79,"column":55},"generated":{"line":1,"column":1936}},{"source":"mobilenet.js","name":"value","original":{"line":79,"column":57},"generated":{"line":1,"column":1938}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1951}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1953}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1956}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1964}},{"source":"mobilenet.js","original":{"line":81,"column":3},"generated":{"line":1,"column":1974}}],"sources":{"mobilenet.js":"/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as tf from '@tensorflow/tfjs';\n\nimport {IMAGENET_CLASSES} from './imagenet_classes';\n\nconst GOOGLE_CLOUD_STORAGE_DIR =\n    'https://storage.googleapis.com/tfjs-models/savedmodel/';\nconst MODEL_FILE_URL = 'mobilenet_v2_1.0_224/model.json';\nconst INPUT_NODE_NAME = 'images';\nconst OUTPUT_NODE_NAME = 'module_apply_default/MobilenetV2/Logits/output';\nconst PREPROCESS_DIVISOR = tf.scalar(255 / 2);\n\nexport class MobileNet {\n  constructor() {}\n\n  async load() {\n    this.model = await tf.loadGraphModel(\n        GOOGLE_CLOUD_STORAGE_DIR + MODEL_FILE_URL);\n  }\n\n  dispose() {\n    if (this.model) {\n      this.model.dispose();\n    }\n  }\n  /**\n   * Infer through MobileNet. This does standard ImageNet pre-processing before\n   * inferring through the model. This method returns named activations as well\n   * as softmax logits.\n   *\n   * @param input un-preprocessed input Array.\n   * @return The softmax logits.\n   */\n  predict(input) {\n    const preprocessedInput = tf.div(\n        tf.sub(input.asType('float32'), PREPROCESS_DIVISOR),\n        PREPROCESS_DIVISOR);\n    const reshapedInput =\n        preprocessedInput.reshape([1, ...preprocessedInput.shape]);\n    return this.model.execute(\n        {[INPUT_NODE_NAME]: reshapedInput}, OUTPUT_NODE_NAME);\n  }\n\n  getTopKClasses(logits, topK) {\n    const predictions = tf.tidy(() => {\n      return tf.softmax(logits);\n    });\n\n    const values = predictions.dataSync();\n    predictions.dispose();\n\n    let predictionList = [];\n    for (let i = 0; i < values.length; i++) {\n      predictionList.push({value: values[i], index: i});\n    }\n    predictionList = predictionList\n                         .sort((a, b) => {\n                           return b.value - a.value;\n                         })\n                         .slice(0, topK);\n\n    return predictionList.map(x => {\n      return {label: IMAGENET_CLASSES[x.index], value: x.value};\n    });\n  }\n}\n"},"lineCount":null}},"hash":"854f58f7de81ff4b4b5e0520046c8ad8","cacheData":{"env":{}}}